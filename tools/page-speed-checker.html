<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Page Speed Checker - One Click Tools</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><link rel="stylesheet" href="../css/style.css"></head><body>
<div id="site-header"></div>
<main class="container" style="padding:60px 0;">
  <div class="tool-card" style="max-width:960px; margin:0 auto;">
    <div style="text-align:center; margin-bottom:10px;">
      <i class="fas fa-tachometer-alt tool-icon-small" style="font-size:3rem;"></i>
      <div class="tool-name" style="font-size:1.6rem;">Page Speed Checker</div>
      <div class="tool-desc">Analyze website performance, Core Web Vitals, and get optimization recommendations.</div>
    </div>

    <div class="tool-card" style="padding:16px;">
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:12px; align-items:end;">
        <div>
          <label for="urlInput" style="display:block; font-weight:600; margin-bottom:6px;">Website URL</label>
          <input type="url" id="urlInput" placeholder="https://example.com" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;" />
        </div>
        <div>
          <label for="deviceType" style="display:block; font-weight:600; margin-bottom:6px;">Device Type</label>
          <select id="deviceType" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
            <option value="desktop">Desktop</option>
            <option value="mobile">Mobile</option>
          </select>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button id="analyzeBtn" class="tool-button">Analyze Performance</button>
          <button id="clearBtn" class="tool-button" style="background:#888;">Clear</button>
        </div>
      </div>
    </div>

    <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:12px; margin-top:16px;">
      <div class="tool-card" style="padding:16px;">
        <div class="tool-name">Performance Metrics</div>
        <div id="metricsContainer" style="margin-top:10px;">
          <div id="loadingMetrics" style="text-align:center; color:#666;">Enter a URL and click "Analyze Performance" to get speed metrics</div>
          <div id="metricsContent" style="display:none;">
            <div style="margin-bottom:15px;">
              <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                <span>Performance Score:</span>
                <span id="performanceScore" style="font-weight:600;"></span>
              </div>
              <div style="width:100%; height:8px; background:#eee; border-radius:4px; overflow:hidden;">
                <div id="performanceBar" style="height:100%; width:0%; transition:width 0.5s;"></div>
              </div>
            </div>
            <div style="margin-bottom:10px;"><strong>First Contentful Paint:</strong> <span id="fcp"></span></div>
            <div style="margin-bottom:10px;"><strong>Largest Contentful Paint:</strong> <span id="lcp"></span></div>
            <div style="margin-bottom:10px;"><strong>Cumulative Layout Shift:</strong> <span id="cls"></span></div>
            <div style="margin-bottom:10px;"><strong>First Input Delay:</strong> <span id="fid"></span></div>
            <div style="margin-bottom:10px;"><strong>Time to Interactive:</strong> <span id="tti"></span></div>
          </div>
        </div>
      </div>
      <div class="tool-card" style="padding:16px;">
        <div class="tool-name">Core Web Vitals</div>
        <div id="vitalsContainer" style="margin-top:10px;">
          <div id="loadingVitals" style="text-align:center; color:#666;">Performance analysis required for Core Web Vitals</div>
          <div id="vitalsContent" style="display:none;">
            <div style="margin-bottom:10px;">
              <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                <span>LCP (Largest Contentful Paint):</span>
                <span id="lcpStatus"></span>
              </div>
              <div style="width:100%; height:8px; background:#eee; border-radius:4px; overflow:hidden;">
                <div id="lcpBar" style="height:100%; width:0%; transition:width 0.5s;"></div>
              </div>
            </div>
            <div style="margin-bottom:10px;">
              <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                <span>FID (First Input Delay):</span>
                <span id="fidStatus"></span>
              </div>
              <div style="width:100%; height:8px; background:#eee; border-radius:4px; overflow:hidden;">
                <div id="fidBar" style="height:100%; width:0%; transition:width 0.5s;"></div>
              </div>
            </div>
            <div style="margin-bottom:10px;">
              <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                <span>CLS (Cumulative Layout Shift):</span>
                <span id="clsStatus"></span>
              </div>
              <div style="width:100%; height:8px; background:#eee; border-radius:4px; overflow:hidden;">
                <div id="clsBar" style="height:100%; width:0%; transition:width 0.5s;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="tool-card" style="padding:16px; margin-top:16px;">
      <div class="tool-name">Optimization Recommendations</div>
      <div id="recommendations" style="margin-top:10px;">
        <div id="loadingRecommendations" style="text-align:center; color:#666;">Performance analysis required for recommendations</div>
        <div id="recommendationsContent" style="display:none;">
          <div id="recommendationsList" style="font-size:0.9rem;"></div>
        </div>
      </div>
    </div>

    <div class="banner-ad" style="margin-top:16px;">Ad Placeholder (728x90)</div>
    <div style="text-align:center; margin-top:8px;">
      <a class="tool-button" href="../index.html">Back to Home</a>
    </div>
  </div>
</main>
<div id="site-footer"></div>
<script src="../js/include.js"></script>
<script>
  const urlInput = document.getElementById('urlInput');
  const deviceType = document.getElementById('deviceType');
  const analyzeBtn = document.getElementById('analyzeBtn');
  const clearBtn = document.getElementById('clearBtn');

  // Metrics elements
  const metricsContainer = document.getElementById('metricsContainer');
  const loadingMetrics = document.getElementById('loadingMetrics');
  const metricsContent = document.getElementById('metricsContent');
  const performanceScore = document.getElementById('performanceScore');
  const performanceBar = document.getElementById('performanceBar');
  const fcp = document.getElementById('fcp');
  const lcp = document.getElementById('lcp');
  const cls = document.getElementById('cls');
  const fid = document.getElementById('fid');
  const tti = document.getElementById('tti');

  // Vitals elements
  const vitalsContainer = document.getElementById('vitalsContainer');
  const loadingVitals = document.getElementById('loadingVitals');
  const vitalsContent = document.getElementById('vitalsContent');
  const lcpStatus = document.getElementById('lcpStatus');
  const lcpBar = document.getElementById('lcpBar');
  const fidStatus = document.getElementById('fidStatus');
  const fidBar = document.getElementById('fidBar');
  const clsStatus = document.getElementById('clsStatus');
  const clsBar = document.getElementById('clsBar');

  // Recommendations elements
  const recommendations = document.getElementById('recommendations');
  const loadingRecommendations = document.getElementById('loadingRecommendations');
  const recommendationsContent = document.getElementById('recommendationsContent');
  const recommendationsList = document.getElementById('recommendationsList');

  function formatTime(milliseconds) {
    if (milliseconds < 1000) {
      return `${Math.round(milliseconds)}ms`;
    } else {
      return `${(milliseconds / 1000).toFixed(2)}s`;
    }
  }

  function formatCLS(clsValue) {
    return clsValue.toFixed(3);
  }

  function getMetricColor(value, thresholds) {
    if (value <= thresholds.good) return '#28a745';
    if (value <= thresholds.needsImprovement) return '#ffc107';
    return '#dc3545';
  }

  function getMetricStatus(value, thresholds) {
    if (value <= thresholds.good) return 'ðŸŸ¢ Good';
    if (value <= thresholds.needsImprovement) return 'ðŸŸ¡ Needs Improvement';
    return 'ðŸ”´ Poor';
  }

  function generateMockMetrics() {
    // Simulate realistic performance metrics
    const baseScore = Math.floor(Math.random() * 40) + 60; // 60-100
    const fcpTime = Math.floor(Math.random() * 2000) + 800; // 800-2800ms
    const lcpTime = Math.floor(Math.random() * 3000) + 1000; // 1000-4000ms
    const clsValue = Math.random() * 0.25; // 0-0.25
    const fidTime = Math.floor(Math.random() * 200) + 50; // 50-250ms
    const ttiTime = Math.floor(Math.random() * 4000) + 2000; // 2000-6000ms

    return {
      performanceScore: baseScore,
      fcp: formatTime(fcpTime),
      lcp: formatTime(lcpTime),
      cls: formatCLS(clsValue),
      fid: formatTime(fidTime),
      tti: formatTime(ttiTime),
      lcpValue: lcpTime,
      fidValue: fidTime,
      clsValue: clsValue
    };
  }

  function generateRecommendations(metrics) {
    const recommendations = [];

    // LCP recommendations
    if (metrics.lcpValue > 2500) {
      recommendations.push('â€¢ Largest Contentful Paint is slow. Consider optimizing images and reducing server response times.');
      recommendations.push('â€¢ Use image optimization techniques like WebP format and proper sizing.');
      recommendations.push('â€¢ Implement resource hints (preload, prefetch) for critical resources.');
    } else if (metrics.lcpValue > 4000) {
      recommendations.push('â€¢ LCP is very slow. Consider reducing JavaScript execution time and CSS complexity.');
      recommendations.push('â€¢ Use a Content Delivery Network (CDN) to improve loading times.');
    }

    // FID recommendations
    if (metrics.fidValue > 100) {
      recommendations.push('â€¢ First Input Delay is high. Minimize JavaScript execution time during page load.');
      recommendations.push('â€¢ Break up long JavaScript tasks and use web workers for heavy computations.');
      recommendations.push('â€¢ Remove unused JavaScript and defer non-critical scripts.');
    }

    // CLS recommendations
    if (metrics.clsValue > 0.1) {
      recommendations.push('â€¢ Cumulative Layout Shift is high. Set explicit dimensions for images and videos.');
      recommendations.push('â€¢ Avoid inserting content above existing content unexpectedly.');
      recommendations.push('â€¢ Use CSS aspect-ratio property for dynamic content.');
    }

    // General recommendations
    if (recommendations.length === 0) {
      recommendations.push('â€¢ Your website performance looks good! Here are some general optimization tips:');
      recommendations.push('â€¢ Enable compression (gzip/brotli) for text resources.');
      recommendations.push('â€¢ Implement proper caching headers for static resources.');
      recommendations.push('â€¢ Consider using a Content Delivery Network (CDN).');
      recommendations.push('â€¢ Optimize images and use modern formats (WebP, AVIF).');
    }

    return recommendations;
  }

  async function analyzePageSpeed() {
    const url = urlInput.value.trim();

    if (!url) {
      alert('Please enter a URL to analyze.');
      return;
    }

    // Basic URL validation
    try {
      new URL(url);
    } catch (e) {
      alert('Please enter a valid URL (including http:// or https://)');
      return;
    }

    analyzeBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
    analyzeBtn.disabled = true;

    // Show loading states
    loadingMetrics.textContent = 'Analyzing performance metrics...';
    loadingVitals.textContent = 'Calculating Core Web Vitals...';
    loadingRecommendations.textContent = 'Generating optimization recommendations...';

    try {
      // Simulate API call delay
      await new Promise(resolve => setTimeout(resolve, 3000));

      // Generate mock metrics
      const metrics = generateMockMetrics();

      // Update performance score
      performanceScore.textContent = `${metrics.performanceScore}/100`;
      performanceBar.style.width = `${metrics.performanceScore}%`;
      performanceBar.style.backgroundColor = getMetricColor(metrics.performanceScore, { good: 90, needsImprovement: 70 });

      // Update metrics
      fcp.textContent = metrics.fcp;
      lcp.textContent = metrics.lcp;
      cls.textContent = metrics.cls;
      fid.textContent = metrics.fid;
      tti.textContent = metrics.tti;

      // Update Core Web Vitals
      lcpStatus.textContent = getMetricStatus(metrics.lcpValue, { good: 2500, needsImprovement: 4000 });
      lcpBar.style.width = `${Math.min(100, (metrics.lcpValue / 4000) * 100)}%`;
      lcpBar.style.backgroundColor = getMetricColor(metrics.lcpValue, { good: 2500, needsImprovement: 4000 });

      fidStatus.textContent = getMetricStatus(metrics.fidValue, { good: 100, needsImprovement: 300 });
      fidBar.style.width = `${Math.min(100, (metrics.fidValue / 300) * 100)}%`;
      fidBar.style.backgroundColor = getMetricColor(metrics.fidValue, { good: 100, needsImprovement: 300 });

      clsStatus.textContent = getMetricStatus(metrics.clsValue, { good: 0.1, needsImprovement: 0.25 });
      clsBar.style.width = `${Math.min(100, (metrics.clsValue / 0.25) * 100)}%`;
      clsBar.style.backgroundColor = getMetricColor(metrics.clsValue, { good: 0.1, needsImprovement: 0.25 });

      // Generate recommendations
      const recommendations = generateRecommendations(metrics);
      recommendationsList.innerHTML = recommendations.map(rec => `<div style="margin-bottom:8px;">${rec}</div>`).join('');

      // Show all content
      metricsContent.style.display = 'block';
      vitalsContent.style.display = 'block';
      recommendationsContent.style.display = 'block';
      loadingMetrics.style.display = 'none';
      loadingVitals.style.display = 'none';
      loadingRecommendations.style.display = 'none';

      // Scroll to results
      metricsContainer.scrollIntoView({ behavior: 'smooth' });

    } catch (error) {
      alert('Error analyzing page speed: ' + error.message);
      loadingMetrics.textContent = 'Error loading metrics';
      loadingVitals.textContent = 'Error calculating vitals';
      loadingRecommendations.textContent = 'Error generating recommendations';
    }

    analyzeBtn.innerHTML = 'Analyze Performance';
    analyzeBtn.disabled = false;
  }

  function clearAll() {
    urlInput.value = '';
    loadingMetrics.textContent = 'Enter a URL and click "Analyze Performance" to get speed metrics';
    loadingVitals.textContent = 'Performance analysis required for Core Web Vitals';
    loadingRecommendations.textContent = 'Performance analysis required for recommendations';
    metricsContent.style.display = 'none';
    vitalsContent.style.display = 'none';
    recommendationsContent.style.display = 'none';
  }

  // Event listeners
  analyzeBtn.addEventListener('click', analyzePageSpeed);
  clearBtn.addEventListener('click', clearAll);

  // Keyboard shortcut (Enter to analyze)
  urlInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      analyzePageSpeed();
    }
  });

  // Auto-focus on URL input
  urlInput.focus();
</script>
</body></html>


