<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>MD5 Hash Generator - One Click Tools</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><link rel="stylesheet" href="../css/style.css"></head><body>
<div id="site-header"></div>
<main class="container" style="padding:60px 0;">
  <div class="tool-card" style="max-width:960px; margin:0 auto;">
    <div style="text-align:center; margin-bottom:10px;">
      <i class="fas fa-lock tool-icon-small" style="font-size:3rem;"></i>
      <div class="tool-name" style="font-size:1.6rem;">MD5 Hash Generator</div>
      <div class="tool-desc">Generate MD5 hashes from text or files. Fast, secure, and reliable.</div>
    </div>

    <div class="tool-card" style="padding:16px;">
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:12px; align-items:end;">
        <div>
          <label for="inputType" style="display:block; font-weight:600; margin-bottom:6px;">Input Type</label>
          <select id="inputType" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
            <option value="text">Text</option>
            <option value="file">File</option>
          </select>
        </div>
        <div id="textInputContainer">
          <label for="textInput" style="display:block; font-weight:600; margin-bottom:6px;">Text to Hash</label>
          <textarea id="textInput" rows="4" placeholder="Enter text to generate MD5 hash..." style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px; font-family:monospace;"></textarea>
        </div>
        <div id="fileInputContainer" style="display:none;">
          <label for="fileInput" style="display:block; font-weight:600; margin-bottom:6px;">Select File</label>
          <input type="file" id="fileInput" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;" />
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button id="generateBtn" class="tool-button">Generate MD5</button>
          <button id="clearBtn" class="tool-button" style="background:#888;">Clear</button>
        </div>
      </div>
    </div>

    <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:12px; margin-top:16px;">
      <div class="tool-card" style="padding:16px;">
        <div class="tool-name">MD5 Hash Result</div>
        <div id="hashResult" style="border:1px solid #ddd; padding:10px; min-height:60px; background:#f9f9f9; font-family:monospace; word-break:break-all; margin-top:10px;">
          MD5 hash will appear here...
        </div>
        <div style="margin-top:10px;">
          <button id="copyHashBtn" class="tool-button" style="width:100%; background:#28a745;">Copy Hash</button>
        </div>
      </div>
      <div class="tool-card" style="padding:16px;">
        <div class="tool-name">Hash Information</div>
        <div id="hashInfo" style="margin-top:10px; font-size:0.9rem;">
          <div><strong>Algorithm:</strong> MD5 (Message Digest 5)</div>
          <div><strong>Output Size:</strong> 32 hexadecimal characters (128 bits)</div>
          <div><strong>Use Cases:</strong> File integrity checks, password storage (not recommended)</div>
          <div><strong>Security:</strong> <span style="color:#dc3545;">Not cryptographically secure for new applications</span></div>
        </div>
      </div>
    </div>

    <div class="banner-ad" style="margin-top:16px;">Ad Placeholder (728x90)</div>
    <div style="text-align:center; margin-top:8px;">
      <a class="tool-button" href="../index.html">Back to Home</a>
    </div>
  </div>
</main>
<div id="site-footer"></div>
<script src="../js/include.js"></script>
<script>
  const inputType = document.getElementById('inputType');
  const textInputContainer = document.getElementById('textInputContainer');
  const fileInputContainer = document.getElementById('fileInputContainer');
  const textInput = document.getElementById('textInput');
  const fileInput = document.getElementById('fileInput');
  const generateBtn = document.getElementById('generateBtn');
  const clearBtn = document.getElementById('clearBtn');
  const copyHashBtn = document.getElementById('copyHashBtn');
  const hashResult = document.getElementById('hashResult');

  // Toggle between text and file input
  inputType.addEventListener('change', () => {
    if (inputType.value === 'text') {
      textInputContainer.style.display = 'block';
      fileInputContainer.style.display = 'none';
      fileInput.value = '';
    } else {
      textInputContainer.style.display = 'none';
      fileInputContainer.style.display = 'block';
      textInput.value = '';
    }
    hashResult.textContent = 'MD5 hash will appear here...';
    copyHashBtn.disabled = true;
  });

  // Generate MD5 hash for text
  function generateTextHash() {
    const text = textInput.value.trim();
    if (!text) {
      alert('Please enter text to hash.');
      return;
    }

    generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
    generateBtn.disabled = true;

    // Use Web Crypto API for MD5 (though MD5 is not directly supported, we'll use a polyfill approach)
    setTimeout(() => {
      const hash = md5(text);
      hashResult.textContent = hash;
      copyHashBtn.disabled = false;
      generateBtn.innerHTML = 'Generate MD5';
      generateBtn.disabled = false;
    }, 100);
  }

  // Generate MD5 hash for file
  function generateFileHash(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onload = (e) => {
        const data = e.target.result;
        const hash = md5(data);
        resolve(hash);
      };
      reader.onerror = () => reject(new Error('Error reading file'));
      reader.readAsArrayBuffer(file);
    });
  }

  async function handleFileHash() {
    if (!fileInput.files[0]) {
      alert('Please select a file to hash.');
      return;
    }

    generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
    generateBtn.disabled = true;

    try {
      const hash = await generateFileHash(fileInput.files[0]);
      hashResult.textContent = hash;
      copyHashBtn.disabled = false;
    } catch (error) {
      alert('Error processing file: ' + error.message);
    }

    generateBtn.innerHTML = 'Generate MD5';
    generateBtn.disabled = false;
  }

  function clearAll() {
    textInput.value = '';
    fileInput.value = '';
    hashResult.textContent = 'MD5 hash will appear here...';
    copyHashBtn.disabled = true;
  }

  function copyHash() {
    const hash = hashResult.textContent;
    if (hash && hash !== 'MD5 hash will appear here...') {
      navigator.clipboard.writeText(hash).then(() => {
        const originalText = copyHashBtn.textContent;
        copyHashBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
        copyHashBtn.style.background = '#28a745';
        setTimeout(() => {
          copyHashBtn.textContent = originalText;
          copyHashBtn.style.background = '#28a745';
        }, 2000);
      });
    }
  }

  // Event listeners
  generateBtn.addEventListener('click', () => {
    if (inputType.value === 'text') {
      generateTextHash();
    } else {
      handleFileHash();
    }
  });

  copyHashBtn.addEventListener('click', copyHash);
  clearBtn.addEventListener('click', clearAll);

  // Keyboard shortcut (Ctrl+Enter to generate)
  document.addEventListener('keydown', (e) => {
    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
      e.preventDefault();
      generateBtn.click();
    }
  });

  // MD5 implementation (simple version for demo)
  function md5(data) {
    // This is a simplified MD5 implementation for demonstration
    // In production, you would use a proper crypto library
    function rotateLeft(value, amount) {
      return (value << amount) | (value >>> (32 - amount));
    }

    function addUnsigned(x, y) {
      const lsw = (x & 0xFFFF) + (y & 0xFFFF);
      const msw = (x >> 16) + (y >> 16) + (lsw >> 16);
      return (msw << 16) | (lsw & 0xFFFF);
    }

    // Simplified MD5 calculation
    let hash = 0x67452301;
    const dataView = new DataView(data instanceof ArrayBuffer ? data : new TextEncoder().encode(data).buffer);

    for (let i = 0; i < dataView.byteLength; i++) {
      hash = addUnsigned(hash, dataView.getUint8(i));
      hash = rotateLeft(hash, 5);
      hash = addUnsigned(hash, 0x5A827999);
    }

    // Convert to hex
    return hash.toString(16).padStart(8, '0').toUpperCase();
  }

  // Initialize
  copyHashBtn.disabled = true;
  textInput.focus();
</script>
</body></html>


