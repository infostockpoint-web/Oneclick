<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Random Text Generator â€” One Click</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
  <link rel="icon" href="../assets/images/favicon.ico" />
</head>
<body>
  <div id="header-container"></div>

  <main class="tool-container">
    <div class="tool-header">
      <h1>Random Text Generator</h1>
      <p>Generate Lorem Ipsum or random alphanumeric strings.</p>
    </div>

    <div class="tool-interface">
      <div class="form-group">
        <label for="mode">Mode</label>
        <select id="mode" class="form-control">
          <option value="lorem">Lorem Ipsum paragraph(s)</option>
          <option value="alnum">Random Alphanumeric</option>
        </select>
      </div>

      <div id="loremOptions" class="d-flex" style="gap:10px;flex-wrap:wrap;">
        <div>
          <label for="paras">Paragraphs</label>
          <input id="paras" type="number" class="form-control" value="2" min="1" max="20" />
        </div>
        <div>
          <label for="sentences">Sentences per paragraph</label>
          <input id="sentences" type="number" class="form-control" value="4" min="1" max="20" />
        </div>
      </div>

      <div id="alnumOptions" class="d-none d-flex" style="gap:10px;flex-wrap:wrap;">
        <div>
          <label for="length">Length</label>
          <input id="length" type="number" class="form-control" value="32" min="1" max="10000" />
        </div>
        <div style="align-self:end;">
          <label><input type="checkbox" id="includeSymbols"> Include symbols</label>
        </div>
      </div>

      <div class="d-flex mt-3" style="gap:10px;flex-wrap:wrap;">
        <button id="genBtn" class="btn btn-primary">Generate</button>
        <button id="copyBtn" class="btn btn-success">Copy</button>
      </div>

      <div class="form-group mt-3">
        <label for="output">Output</label>
        <textarea id="output" class="form-control" rows="10" readonly></textarea>
      </div>
    </div>

    <div class="ad-space"><h4>Advertisement</h4><p>300x250</p></div>
  </main>

  <div id="footer-container"></div>

  <script src="../assets/js/common.js"></script>
  <script>
    const mode = document.getElementById('mode');
    const loremOptions = document.getElementById('loremOptions');
    const alnumOptions = document.getElementById('alnumOptions');
    const output = document.getElementById('output');

    mode.addEventListener('change', () => {
      const m = mode.value;
      loremOptions.classList.toggle('d-none', m !== 'lorem');
      alnumOptions.classList.toggle('d-none', m !== 'alnum');
    });

    function randChoice(arr){ return arr[Math.floor(Math.random() * arr.length)]; }

    const WORDS = ('lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est laborum').split(' ');

    function genLorem(paras, sents){
      const ps = [];
      for (let p=0; p<paras; p++){
        const sentences = [];
        for (let s=0; s<sents; s++){
          const len = Math.floor(Math.random()*8)+8; // 8-15 words
          const words = [];
          for (let i=0; i<len; i++) words.push(randChoice(WORDS));
          let sentence = words.join(' ');
          sentence = sentence.charAt(0).toUpperCase() + sentence.slice(1) + '.';
          sentences.push(sentence);
        }
        ps.push(sentences.join(' '));
      }
      return ps.join('\n\n');
    }

    function genAlnum(n, symbols){
      let chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
      if (symbols) chars += '!@#$%^&*()_+-=[]{};:\",.<>/?';
      let s=''; for (let i=0; i<n; i++) s += chars[Math.floor(Math.random()*chars.length)];
      return s;
    }

    document.getElementById('genBtn').addEventListener('click', () => {
      if (mode.value === 'lorem'){
        const paras = Math.max(1, parseInt(document.getElementById('paras').value, 10) || 1);
        const sents = Math.max(1, parseInt(document.getElementById('sentences').value, 10) || 3);
        output.value = genLorem(paras, sents);
      } else {
        const n = Math.max(1, parseInt(document.getElementById('length').value, 10) || 32);
        const sym = document.getElementById('includeSymbols').checked;
        output.value = genAlnum(n, sym);
      }
    });

    document.getElementById('copyBtn').addEventListener('click', () => copyToClipboard(output.value));
  </script>
</body>
</html>
