<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Planner Creator - One Click Tools</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .planner-container {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 20px;
      margin: 20px 0;
    }
    .planner-sidebar {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #e9ecef;
    }
    .planner-main {
      background: white;
      border-radius: 8px;
      border: 1px solid #e9ecef;
      min-height: 600px;
    }
    .date-selector {
      margin-bottom: 20px;
      text-align: center;
    }
    .date-selector input {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 1.1rem;
      text-align: center;
    }
    .planner-title {
      text-align: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 2px solid #007bff;
    }
    .time-slot {
      display: flex;
      align-items: flex-start;
      padding: 15px;
      border-bottom: 1px solid #e9ecef;
      transition: background-color 0.2s;
    }
    .time-slot:hover {
      background: #f8f9fa;
    }
    .time-label {
      width: 80px;
      font-weight: 600;
      color: #495057;
      flex-shrink: 0;
    }
    .task-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .task-input {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      resize: vertical;
      min-height: 40px;
    }
    .task-notes {
      width: 100%;
      padding: 6px 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      resize: vertical;
      min-height: 30px;
      font-size: 0.9rem;
    }
    .task-controls {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
    }
    .priority-selector {
      padding: 4px 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: white;
      font-size: 0.9rem;
    }
    .priority-low { border-color: #28a745; background: #d4edda; }
    .priority-medium { border-color: #ffc107; background: #fff3cd; }
    .priority-high { border-color: #dc3545; background: #f8d7da; }
    .task-actions {
      display: flex;
      gap: 5px;
    }
    .btn-small {
      padding: 4px 8px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
    }
    .btn-delete { background: #dc3545; color: white; }
    .btn-complete { background: #28a745; color: white; }
    .btn-complete.completed { background: #6c757d; }
    .add-time-btn {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin: 15px 0;
      width: 100%;
    }
    .time-templates {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin: 15px 0;
    }
    .template-btn {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: white;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
    }
    .template-btn:hover {
      background: #e7f0ff;
      border-color: #007bff;
    }
    .export-controls {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .export-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
    }
    .btn-print { background: #17a2b8; color: white; }
    .btn-save { background: #28a745; color: white; }
    .btn-load { background: #6c757d; color: white; }
    .summary-stats {
      background: #e7f0ff;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      border: 1px solid #b8daff;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 15px;
      text-align: center;
    }
    .stat-item {
      background: white;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #dee2e6;
    }
    .stat-number {
      font-size: 1.5rem;
      font-weight: bold;
      color: #007bff;
    }
    .completed-task {
      text-decoration: line-through;
      opacity: 0.6;
    }
    .task-priority {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 12px;
      font-size: 0.7rem;
      font-weight: 600;
      margin-left: 8px;
    }
    .priority-high { background: #dc3545; color: white; }
    .priority-medium { background: #ffc107; color: black; }
    .priority-low { background: #28a745; color: white; }
  </style>
</head>
<body>
  <div id="site-header"></div>
  <main class="container" style="padding:60px 0;">
    <div class="tool-card" style="max-width:1000px; margin:0 auto;">
      <div style="text-align:center;">
        <i class="fas fa-calendar-day tool-icon-small" style="font-size:3rem;"></i>
        <div class="tool-name" style="font-size:1.6rem;">Daily Planner Creator</div>
        <div class="tool-desc">Plan your day with time slots, tasks, and priorities. Export, print, or save your schedule.</div>
      </div>

      <div class="planner-container">
        <div class="planner-sidebar">
          <div class="date-selector">
            <label style="display:block; font-weight:600; margin-bottom:8px;">Select Date</label>
            <input type="date" id="planDate" style="width:100%;">
          </div>

          <div style="margin:20px 0;">
            <h4 style="margin-bottom:10px;">Quick Templates</h4>
            <div class="time-templates">
              <button class="template-btn" data-slots="8,9,10,11,12,13,14,15,16,17">Standard Work Day</button>
              <button class="template-btn" data-slots="6,7,8,9,10,11,12,13,14,15,16,17,18">Full Day</button>
              <button class="template-btn" data-slots="9,10,11,12,13,14,15,16">Business Hours</button>
              <button class="template-btn" data-slots="18,19,20,21,22">Evening Schedule</button>
            </div>
          </div>

          <div class="summary-stats">
            <h4>Today's Summary</h4>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-number" id="totalTasks">0</div>
                <div>Total Tasks</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" id="completedTasks">0</div>
                <div>Completed</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" id="pendingTasks">0</div>
                <div>Pending</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" id="highPriority">0</div>
                <div>High Priority</div>
              </div>
            </div>
          </div>

          <div class="export-controls">
            <button class="export-btn btn-print">Print Schedule</button>
            <button class="export-btn btn-save">Save to File</button>
            <button class="export-btn btn-load">Load Schedule</button>
          </div>
        </div>

        <div class="planner-main">
          <div class="planner-title">
            <h2 id="plannerDate">Daily Schedule</h2>
          </div>

          <div id="timeSlots">
            <!-- Time slots will be dynamically added here -->
          </div>

          <div style="text-align:center; margin:20px;">
            <button class="add-time-btn" id="addTimeSlot">Add Time Slot</button>
          </div>
        </div>
      </div>

      <div class="banner-ad" style="margin-top:16px;">Ad Placeholder (728x90)</div>
      <div style="text-align:center; margin-top:8px;">
        <a class="tool-button" href="../index.html">Back to Home</a>
      </div>
    </div>
  </main>
  <div id="site-footer"></div>
  <script src="../js/include.js"></script>
  <script>
    const planDate = document.getElementById('planDate');
    const plannerDate = document.getElementById('plannerDate');
    const timeSlots = document.getElementById('timeSlots');
    const addTimeSlot = document.getElementById('addTimeSlot');
    const templateBtns = document.querySelectorAll('.template-btn');
    const totalTasks = document.getElementById('totalTasks');
    const completedTasks = document.getElementById('completedTasks');
    const pendingTasks = document.getElementById('pendingTasks');
    const highPriority = document.getElementById('highPriority');
    const printBtn = document.querySelector('.btn-print');
    const saveBtn = document.querySelector('.btn-save');
    const loadBtn = document.querySelector('.btn-load');

    let slots = [];
    let slotId = 0;

    function formatTime(hour) {
      const period = hour >= 12 ? 'PM' : 'AM';
      const displayHour = hour > 12 ? hour - 12 : hour === 0 ? 12 : hour;
      return `${displayHour}:00 ${period}`;
    }

    function updateStats() {
      const tasks = slots.filter(slot => slot.task.trim());
      totalTasks.textContent = tasks.length;
      completedTasks.textContent = tasks.filter(slot => slot.completed).length;
      pendingTasks.textContent = tasks.filter(slot => !slot.completed).length;
      highPriority.textContent = tasks.filter(slot => slot.priority === 'high').length;
    }

    function createTimeSlot(hour = 9, task = '', notes = '', priority = 'medium', completed = false) {
      slotId++;
      const slot = document.createElement('div');
      slot.className = 'time-slot';
      slot.dataset.id = slotId;
      slot.dataset.hour = hour;

      slot.innerHTML = `
        <div class="time-label">${formatTime(hour)}</div>
        <div class="task-content">
          <textarea class="task-input" placeholder="Enter task...">${task}</textarea>
          <textarea class="task-notes" placeholder="Notes...">${notes}</textarea>
          <div class="task-controls">
            <select class="priority-selector ${priority === 'high' ? 'priority-high' : priority === 'medium' ? 'priority-medium' : 'priority-low'}">
              <option value="low" ${priority === 'low' ? 'selected' : ''}>Low Priority</option>
              <option value="medium" ${priority === 'medium' ? 'selected' : ''}>Medium Priority</option>
              <option value="high" ${priority === 'high' ? 'selected' : ''}>High Priority</option>
            </select>
            <div class="task-actions">
              <button class="btn-small btn-complete ${completed ? 'completed' : ''}" title="Mark Complete">
                <i class="fas ${completed ? 'fa-undo' : 'fa-check'}"></i>
              </button>
              <button class="btn-small btn-delete" title="Delete">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        </div>
      `;

      // Add event listeners
      const taskInput = slot.querySelector('.task-input');
      const notesInput = slot.querySelector('.task-notes');
      const prioritySelect = slot.querySelector('.priority-selector');
      const completeBtn = slot.querySelector('.btn-complete');
      const deleteBtn = slot.querySelector('.btn-delete');

      taskInput.addEventListener('input', () => {
        slots.find(s => s.id === slotId).task = taskInput.value;
        updateStats();
      });

      notesInput.addEventListener('input', () => {
        slots.find(s => s.id === slotId).notes = notesInput.value;
      });

      prioritySelect.addEventListener('change', (e) => {
        const slotData = slots.find(s => s.id === slotId);
        slotData.priority = e.target.value;
        prioritySelect.className = `priority-selector ${e.target.value === 'high' ? 'priority-high' : e.target.value === 'medium' ? 'priority-medium' : 'priority-low'}`;
        updateStats();
      });

      completeBtn.addEventListener('click', () => {
        const slotData = slots.find(s => s.id === slotId);
        slotData.completed = !slotData.completed;
        taskInput.classList.toggle('completed-task', slotData.completed);
        notesInput.classList.toggle('completed-task', slotData.completed);
        completeBtn.classList.toggle('completed');
        completeBtn.innerHTML = `<i class="fas ${slotData.completed ? 'fa-undo' : 'fa-check'}"></i>`;
        updateStats();
      });

      deleteBtn.addEventListener('click', () => {
        if (confirm('Delete this time slot?')) {
          slot.remove();
          slots = slots.filter(s => s.id !== slotId);
          updateStats();
        }
      });

      return slot;
    }

    function updateDateDisplay() {
      const date = new Date(planDate.value || new Date());
      plannerDate.textContent = date.toLocaleDateString('en-US', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });
    }

    function loadTemplate(hours) {
      // Clear existing slots
      slots = [];
      timeSlots.innerHTML = '';

      // Add new slots
      hours.forEach(hour => {
        const slotElement = createTimeSlot(hour);
        timeSlots.appendChild(slotElement);
        slots.push({
          id: slotId,
          hour: hour,
          task: '',
          notes: '',
          priority: 'medium',
          completed: false
        });
      });

      updateStats();
    }

    function saveToFile() {
      const data = {
        date: planDate.value,
        slots: slots
      };

      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);

      const link = document.createElement('a');
      link.download = `daily-plan-${planDate.value || new Date().toISOString().split('T')[0]}.json`;
      link.href = url;
      link.click();

      URL.revokeObjectURL(url);
    }

    function loadFromFile() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = '.json';

      input.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            try {
              const data = JSON.parse(e.target.result);
              planDate.value = data.date;
              updateDateDisplay();

              // Load slots
              slots = [];
              timeSlots.innerHTML = '';

              data.slots.forEach(slotData => {
                const slotElement = createTimeSlot(slotData.hour, slotData.task, slotData.notes, slotData.priority, slotData.completed);
                timeSlots.appendChild(slotElement);
                slots.push(slotData);
              });

              updateStats();
            } catch (error) {
              alert('Error loading file: ' + error.message);
            }
          };
          reader.readAsText(file);
        }
      });

      input.click();
    }

    function printSchedule() {
      const printWindow = window.open('', '_blank');
      const date = planDate.value ? new Date(planDate.value).toLocaleDateString() : new Date().toLocaleDateString();

      printWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Daily Schedule - ${date}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #007bff; padding-bottom: 15px; }
            .time-slot { display: flex; margin-bottom: 20px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
            .time-label { width: 80px; font-weight: bold; }
            .task-content { flex: 1; }
            .task-title { font-weight: bold; margin-bottom: 5px; }
            .task-notes { font-size: 0.9rem; color: #666; }
            .priority { font-size: 0.8rem; padding: 2px 6px; border-radius: 12px; margin-left: 10px; }
            .completed { text-decoration: line-through; opacity: 0.6; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Daily Schedule</h1>
            <h2>${date}</h2>
          </div>
      `);

      slots.forEach(slot => {
        if (slot.task.trim()) {
          printWindow.document.write(`
            <div class="time-slot">
              <div class="time-label">${formatTime(slot.hour)}</div>
              <div class="task-content">
                <div class="task-title ${slot.completed ? 'completed' : ''}">
                  ${slot.task}
                  <span class="priority" style="background: ${slot.priority === 'high' ? '#dc3545; color: white' : slot.priority === 'medium' ? '#ffc107; color: black' : '#28a745; color: white'}">
                    ${slot.priority.toUpperCase()}
                  </span>
                </div>
                ${slot.notes ? `<div class="task-notes">${slot.notes}</div>` : ''}
              </div>
            </div>
          `);
        }
      });

      printWindow.document.write(`
        </body>
        </html>
      `);

      printWindow.document.close();
      printWindow.print();
    }

    // Event listeners
    planDate.addEventListener('change', updateDateDisplay);

    addTimeSlot.addEventListener('click', () => {
      const hour = slots.length > 0 ? Math.max(...slots.map(s => s.hour)) + 1 : 9;
      if (hour <= 23) {
        const slotElement = createTimeSlot(hour);
        timeSlots.appendChild(slotElement);
        slots.push({
          id: slotId,
          hour: hour,
          task: '',
          notes: '',
          priority: 'medium',
          completed: false
        });
      }
    });

    templateBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const hours = btn.dataset.slots.split(',').map(h => parseInt(h));
        loadTemplate(hours);
      });
    });

    printBtn.addEventListener('click', printSchedule);
    saveBtn.addEventListener('click', saveToFile);
    loadBtn.addEventListener('click', loadFromFile);

    // Initialize
    planDate.value = new Date().toISOString().split('T')[0];
    updateDateDisplay();
    updateStats();
  </script>
</body>
</html>


