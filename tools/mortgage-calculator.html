<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mortgage Calculator - One Click Tools</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <div id="site-header"></div>
  <main class="container" style="padding:60px 0;">
    <div class="tool-card" style="max-width:1000px; margin:0 auto;">
      <div style="text-align:center; margin-bottom:10px;">
        <i class="fas fa-home tool-icon-small" style="font-size:3rem;"></i>
        <div class="tool-name" style="font-size:1.6rem;">Mortgage Calculator</div>
        <div class="tool-desc">Estimate your monthly mortgage payment with optional taxes and insurance.</div>
      </div>

      <div class="tool-card" style="padding:16px;">
        <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; align-items:end;">
          <div>
            <label style="display:block; font-weight:600; margin-bottom:6px;">Home Price</label>
            <input id="price" type="number" min="0" step="0.01" placeholder="e.g., 5000000" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
          </div>
          <div>
            <label style="display:block; font-weight:600; margin-bottom:6px;">Down Payment</label>
            <input id="down" type="number" min="0" step="0.01" placeholder="e.g., 1000000" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
          </div>
          <div>
            <label style="display:block; font-weight:600; margin-bottom:6px;">Loan Term (Years)</label>
            <input id="years" type="number" min="1" step="1" placeholder="e.g., 20" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
          </div>
          <div>
            <label style="display:block; font-weight:600; margin-bottom:6px;">Interest Rate (Annual %)</label>
            <input id="rate" type="number" min="0" step="0.01" placeholder="e.g., 8.5" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
          </div>
          <div>
            <label style="display:block; font-weight:600; margin-bottom:6px;">Property Tax (Annual)</label>
            <input id="tax" type="number" min="0" step="0.01" placeholder="optional" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
          </div>
          <div>
            <label style="display:block; font-weight:600; margin-bottom:6px;">Home Insurance (Annual)</label>
            <input id="ins" type="number" min="0" step="0.01" placeholder="optional" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
          </div>
          <button id="calc" class="tool-button" style="height:42px;">Calculate</button>
        </div>
      </div>

      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; margin-top:16px;">
        <div class="tool-card" style="padding:16px;">
          <div class="tool-name">Loan Amount</div>
          <div id="loanAmt" class="tool-desc" style="font-size:1.3rem; color:#000;">â€”</div>
        </div>
        <div class="tool-card" style="padding:16px;">
          <div class="tool-name">Principal & Interest (Monthly)</div>
          <div id="pi" class="tool-desc" style="font-size:1.3rem; color:#000;">â€”</div>
        </div>
        <div class="tool-card" style="padding:16px;">
          <div class="tool-name">Taxes & Insurance (Monthly)</div>
          <div id="ti" class="tool-desc" style="font-size:1.3rem; color:#000;">â€”</div>
        </div>
        <div class="tool-card" style="padding:16px;">
          <div class="tool-name">Total Monthly Payment</div>
          <div id="total" class="tool-desc" style="font-size:1.3rem; color:#000;">â€”</div>
        </div>
      </div>

      <div class="tool-card" style="padding:16px; margin-top:16px; overflow:auto;">
        <div class="tool-name" style="margin-bottom:6px;">Amortization (first 12 months)</div>
        <table id="amort" style="width:100%; border-collapse:collapse;">
          <thead>
            <tr>
              <th style="text-align:left; border-bottom:1px solid #eee; padding:8px;">Month</th>
              <th style="text-align:right; border-bottom:1px solid #eee; padding:8px;">Interest</th>
              <th style="text-align:right; border-bottom:1px solid #eee; padding:8px;">Principal</th>
              <th style="text-align:right; border-bottom:1px solid #eee; padding:8px;">Balance</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="banner-ad" style="margin-top:16px;">Ad Placeholder (728x90)</div>
      <div style="text-align:center; margin-top:8px;">
        <a class="tool-button" href="../index.html">Back to Home</a>
      </div>
    </div>
  </main>
  <div id="site-footer"></div>
  <script src="../js/include.js"></script>
  <script>
    function fmt(n){ return Number(n).toLocaleString(undefined,{maximumFractionDigits:2}); }
    function calc(){
      const price = +document.getElementById('price').value;
      const down = +document.getElementById('down').value||0;
      const years = +document.getElementById('years').value;
      const rate = (+document.getElementById('rate').value)/100/12;
      const tax = +document.getElementById('tax').value||0; // annual
      const ins = +document.getElementById('ins').value||0; // annual
      if (!price || !years || !(rate>=0)){ alert('Please fill price, years, and interest rate.'); return; }
      const loan = Math.max(0, price - down);
      const n = years*12;
      const emi = rate>0 ? (loan*rate*Math.pow(1+rate,n))/(Math.pow(1+rate,n)-1) : (loan/n);
      const ti = (tax+ins)/12;
      document.getElementById('loanAmt').textContent = fmt(loan);
      document.getElementById('pi').textContent = fmt(emi);
      document.getElementById('ti').textContent = fmt(ti);
      document.getElementById('total').textContent = fmt(emi+ti);

      // amortization
      let bal = loan; const tb = document.querySelector('#amort tbody'); tb.innerHTML='';
      for (let m=1;m<=Math.min(12,n);m++){
        const interest = bal*rate;
        const princ = emi - interest;
        bal = Math.max(0, bal - princ);
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td style="padding:8px; border-bottom:1px solid #f3f3f3;">${m}</td>
          <td style="padding:8px; text-align:right; border-bottom:1px solid #f3f3f3;">${fmt(interest)}</td>
          <td style="padding:8px; text-align:right; border-bottom:1px solid #f3f3f3;">${fmt(princ)}</td>
          <td style="padding:8px; text-align:right; border-bottom:1px solid #f3f3f3;">${fmt(bal)}</td>`;
        tb.appendChild(tr);
      }
    }
    document.getElementById('calc').addEventListener('click', calc);
  </script>
</body>
</html>


